<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>연습문제 1</title>
</head>
<body>
    <h2>5. 성적 분석 프로그램</h2>
    <p id="total">[학생별 총점과 평균]</p>
    <p id="outavg">[과목별 평균]</p>
    <p id="best">[최고 점수 학생]</p>

    <script>
        let total=document.getElementById('total');
        let outavg=document.getElementById('outavg');
        let best=document.getElementById('best');
        
        let names = ['홍길동', '개나리', '진달래'];
        let subjects = ['국어', '영어', '수학'];
        let scores = [
            [85, 90, 78], // 홍길동
            [92, 88, 95], // 개나리
            [76, 85, 83], // 진달래
            ];
        let sum=0;
        let avg=0;
        let result='';
        // [학생별 총점과 평균]
        for(let i=0;i<scores.length;i++){
            // 리셋
            sum=0;
            avg=0;
            for(let j=0;j<scores[i].length;j++){
                sum+=scores[i][j];
                avg+=scores[i][j] / scores[i].length;

            }
            result+=names[i]+'총점 : '+sum+', '+'평균 : '+avg.toFixed(1)+'</br>';
            console.log(result);
        }
        total.innerHTML='[학생별 총점과 평균]'+'</br>'+result;

        let result2='';
        let avg2=0;
        let sum2 =0;
        // [과목별 평균]
        for(let i=0;i<scores.length;i++){ // 열 [85,92,76]
            avg2=0;
            sum2 =0;
            console.log('테스트');
            for(let j=0;j<scores[i].length;j++){ // 행
                // avg=avg+scores[j][i] / scores[i].length;
                sum2 += scores[j][i];
                avg2 = sum2 / scores[i].length;
                console.log('출략' + sum2);
            }
            console.log(avg2)
            result2+=subjects[i]+' 평균: '+avg2.toFixed(1) + '</br>';
        } 
        outavg.innerHTML='[과목별 평균]'+'</br>'+result2;
    
        
         let score=0;
        // 최고 점수 학생
        let max=0;
        let result3=0;
        // 1. max값 비교해서 찾기
        // 2. max값의 행의 index번호 찾기

        for(let i=0;i<scores.length;i++){ // 행
            score=0;
            
           for(let j=0;j<scores[i].length;j++){ // 열
                if(max<scores[i][j]){
                    max=scores[i][j];
                    result3=names[i]; 
                }
            }
        }
        console.log('최댓값:'+max);
        best.innerHTML='[최고 점수 학생]'+'<br/>'+result3+'['+max+ '점]';
    </script>
</body>
</html>